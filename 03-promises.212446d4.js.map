{"mappings":"AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAIjC,SAASI,EAAcC,EAASJ,GAE7B,OAAO,IAAIK,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACXC,QAAQC,IAAI,mBAEYC,KAAKC,SAAW,GAIrCN,EAAQ,CAACO,EAAET,E,MAASJ,IAGnBO,EAAO,CAACM,EAAET,E,MAASJ,GAAO,GAG3BA,EAAM,G,CASbJ,EAAKC,KAAKiB,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAEC,iBACF,IAAId,EAASe,OAAOrB,EAAKM,OAAOgB,OAC5BC,EAAQF,OAAOrB,EAAKI,MAAMkB,OAC1BjB,EAAOgB,OAAOrB,EAAKK,KAAKiB,OAG5B,IAAK,IAAIE,EAAG,EAAGA,EAAIlB,EAAQkB,IAEzBjB,EAAciB,EAAE,EAAGD,EAAQC,EAAInB,GAC5BoB,MAAK,EAACR,EAAEA,EAACb,MAAEA,MACZsB,MAAM,uBAAqBT,QAAUb,MAAU,IAEhDuB,OAAM,EAACV,EAAEA,EAACb,MAAEA,MACXsB,MAAM,sBAAoBT,QAAQb,MAAU,G","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector(\".form\"),\n  delay: document.querySelector(\"[name='delay']\"),\n  step: document.querySelector(\"[name='step']\"),\n  amount: document.querySelector(\"[name='amount']\")\n}\n\n\nfunction createPromise(position,delay) {\n  \n   return new Promise((resolve, reject) => {\n    setTimeout(() => {\n    console.log('Promise pending');\n\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        // Fulfill\n       resolve({i:position,delay});\n      } else {\n        // Reject\n        reject({i:position,delay});\n      };\n\n    }, delay);\n  } )\n};\n\n\n    \n\n\n\nrefs.form.addEventListener(\"submit\", onFormSubmit)\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  let amount = Number(refs.amount.value);\n  let delay = Number(refs.delay.value);\n  let step = Number(refs.step.value);\n\n \n  for (let i= 0; i < amount; i ++ ) {\n\n    createPromise(i+1, delay + i * step)\n      .then(({ i, delay }) => {\n      alert(`✅ Fulfilled promise ${i} in ${delay}ms`);\n    })\n    .catch(({ i, delay }) => {\n      alert(`❌ Rejected promise ${i} in ${delay}ms`);\n    });\n  }\n \n};\n\n\n\n\n\n\n\n\n\n\n"],"names":["$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","setTimeout","console","log","Math","random","i","addEventListener","e","preventDefault","Number","value","delay1","i1","then","alert","catch"],"version":3,"file":"03-promises.212446d4.js.map"}